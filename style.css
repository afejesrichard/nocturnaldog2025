/* ---------- Base & theme ---------- */
*{ box-sizing:border-box; }
:root{
  --vh: 1vh;
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-top:    env(safe-area-inset-top, 0px);
}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:#0e1726;
  color:#e5e8f0;
  min-height: calc(var(--vh) * 100);
  overflow:hidden;
  display:flex; flex-direction:column;
}

/* ---------- Header ---------- */
.header{
  background:#1a2238;
  color:#fff;
  padding:1.25rem 1rem 1rem;
  text-align:center;
  position:relative;
  box-shadow:0 2px 4px rgba(0,0,0,.12);
}
.menu-toggle{
  position:absolute; left:1rem; top:1rem;
  background:none; border:none; color:#fff;
  font-size:1.5rem; cursor:pointer;
}
.header h1{ margin:.4rem 0; font-size:1.45rem; }
.header .subtitle{ font-size:.9rem; opacity:.85; margin-bottom:.65rem; }
.header .event-link{
  display:inline-block; padding:.55rem 1rem;
  background:#2a4478; color:#fff; border:1px solid #3c5ca3;
  border-radius:999px; font-weight:600; text-decoration:none;
}
.header .event-link:hover{ background:#36579a; }

/* ---------- Layout ---------- */
.container{ flex:1; display:flex; height: calc(100vh - 160px); }
.sidebar{
  width:250px; background:#0f1a32; color:#e5e8f0;
  border-right:1px solid #243455; overflow-y:auto;
  position:absolute; left:-250px; top:0; bottom:0; z-index:1200;
  transition:left .3s ease;
}
.sidebar.open{ left:0; }
.sidebar h2{ margin:1rem; font-size:1rem; color:#d5def0; }
.sidebar ul{ list-style:none; padding:0 1rem 1rem; margin:0; }
.sidebar li{ margin:.25rem 0; }
.sidebar li a{
  display:block; text-decoration:none; color:#d7def3;
  font-size:.92rem; line-height:1.25rem; padding:.25rem .25rem;
  border-radius:4px;
}
.sidebar li a:hover{ background:#172341; }
.sidebar li a.active{ color:#fff; background:#2a3f6f; }

.main-content{
  flex:1; display:flex; flex-direction:column;
  align-items:center; justify-content:flex-start;
  padding: 0 clamp(.5rem, 3vw, 1rem);
}

/* ---------- Page viewer ---------- */
.page-viewer{
  flex:1; width:100%; max-width:960px;
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
  background:#0e1726; border:1px solid #374d87; border-radius:10px;
  margin:.75rem auto 4.5rem;
  touch-action: pinch-zoom;
}
.page-viewer img{
  max-width:100%;
  max-height: calc(var(--vh) * 100 - 14rem); /* header + bar */
  object-fit:contain;
  background:#0b1220; border:1px solid #1f2d46; border-radius:8px;
  box-shadow:0 4px 10px rgba(0,0,0,.45);
  touch-action: pinch-zoom;
}

/* ---------- Fixed bottom nav bar ---------- */
.nav-bar{
  position:fixed; left:0; right:0; bottom:0;
  padding: .5rem clamp(.75rem, 3vw, 1.25rem) calc(.5rem + var(--safe-bottom));
  background: rgba(10,16,30,.9);
  backdrop-filter: blur(8px);
  border-top:1px solid #243455;
  display:grid; grid-template-columns:auto 1fr auto;
  gap:.75rem; align-items:center; z-index:2000;
}
.nav-btn{
  padding:.7rem 1rem; font-size:1rem; color:#fff;
  background:#23365f; border:1px solid #34528d; border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.35); cursor:pointer;
}
.nav-btn:hover{ background:#2a4478; }
.nav-btn:active{ transform: translateY(1px); }
.nav-center{ display:grid; gap:.35rem; align-items:center; justify-items:center; }
#page-indicator{ font-variant-numeric: tabular-nums; color:#c3cfe0; }

.progress-container{
  width:100%; height:6px; background:#1b2744; border-radius:4px; overflow:hidden;
}
.progress-bar{ height:100%; width:0%; background:linear-gradient(90deg,#4d64aa,#6b8cff); }

/* ---------- Footer ---------- */
.footer{
  background:#0e1726; color:#9fb0cc;
  text-align:center; padding:1rem; font-size:.9rem;
}

/* ---------- Responsive ---------- */
@media (min-width: 768px){
  body{ overflow:hidden; }
  .sidebar{ position:relative; left:0; width:220px; }
  .container{ height: calc(100vh - 160px); }
  .menu-toggle{ display:none; }
}
@media (max-width: 600px){
  .header h1{ font-size:1.3rem; }
  .header .event-link{ font-size:.85rem; padding:.45rem .8rem; }
  .container{ flex-direction:column; height:auto; }
  .sidebar{ width:85%; max-width:320px; left:-85%; top:0; bottom:0; }
  .page-viewer{ margin:.5rem .5rem 4.5rem; }
  .nav-btn{ font-size:1rem; padding:.8rem 1rem; }
}